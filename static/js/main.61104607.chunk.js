(this.webpackJsonpcov19map=this.webpackJsonpcov19map||[]).push([[0],{36:function(e,t,a){e.exports=a(52)},41:function(e,t,a){},42:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),l=a.n(r),s=(a(41),a(25)),c=a(26),o=a(14),u=a(31),p=a(32),m=(a(42),a(64)),d=a(69),h=a(70),f=(a(23),a(5)),v=a.n(f);delete v.a.Icon.Default.prototype._getIconUrl,v.a.Icon.Default.mergeOptions({iconRetinaUrl:a(43),iconUrl:a(44),shadowUrl:a(45)});var E=function(e){return i.a.createElement(d.a,{style:{width:"100%",height:"600px"},center:[10.7629,106.6822],zoom:4},i.a.createElement(h.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png   "}),function(e){var t=[];return e.patients.map((function(a,n){return t.push(i.a.createElement(m.a,{key:n,position:{lat:a.lat,lng:a.lng},onClick:e.onClick.bind(null,a),index:n}))})),t}(e),"}")},y=a(66),g=a(65),k=a(67),D=(a(24),function(e){return e.patient?i.a.createElement("div",null,i.a.createElement(g.a,null,"Name: ",i.a.createElement("span",null,e.patient.name)),i.a.createElement(g.a,null,"Address: ",i.a.createElement("span",null,e.patient.address)),i.a.createElement(g.a,null,"Note: ",i.a.createElement("span",null,e.patient.note)),i.a.createElement(g.a,null,"Group: ",i.a.createElement("span",null,e.patient.patientGroup))):i.a.createElement("div",null,i.a.createElement(g.a,null,"Name: "),i.a.createElement(g.a,null,"Address: "),i.a.createElement(g.a,null,"Note : "),i.a.createElement(g.a,null,"Group: "))});var b=function(e){var t=[];return e.patients.map((function(a,n){t.push(function(e,t){var a=new Date(t.verifyDate),n=a.getDate()+"/"+a.getMonth()+"/"+a.getFullYear();return i.a.createElement("li",{ref:function(a){e.list[t.index]=a},key:t.index},i.a.createElement("button",{className:"btn btn-default btn-block"+(e.curPatient===t?" btn-primary":" btn-outline-secondary"),onClick:e.onClick.bind(null,t)},t.name," Date:",n))}(e,a))})),e.patients?i.a.createElement("ul",{style:{listStyleType:"none",overflow:"auto",maxHeight:"329px"}},t):null},x=a(68),w=a(7),C=a.n(w);a(49);var M=function(e){var t=C()(e.startDate),a=C()(e.endDate).diff(t,"days"),n=[{value:0,label:t.format("DD/MM/YYYY")},{value:a,label:C()(t).add(a,"days").format("DD/MM/YYYY")}];return i.a.createElement(x.a,{classes:{valueLabel:"value-label",rail:"rail",track:"track"},defaultValue:0,min:0,max:a,marks:n,onChange:function(t,a){return e.onChange(a)},valueLabelFormat:function(e){return C()(t).add(e,"days").format("DD/MM/YYYY")},valueLabelDisplay:"on",step:1})};function P(e,t){var a=new Date(e.verifyDate),n=new Date(t.verifyDate);return(a<n)-(a>n)}var Y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={patients:null,curPatient:null,patientListRef:null,startDate:"2020-01-22T00:00:00",curDate:null,activePatients:null,activeRefs:null},n.onMarkerClicked=n.onMarkerClicked.bind(Object(o.a)(n)),n.onSeekbarChange=n.onSeekbarChange.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"onMarkerClicked",value:function(e){var t=e.index;this.state.patientListRef[parseInt(t)].scrollIntoView({behavior:"smooth",block:"start"}),this.setState({curPatient:this.state.patients[t]})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/maps.vnpost.vn/apps/covid19/api/patientapi/list",{Headers:new Headers({Origin:"localhost:3000"})}).then((function(e){return e.json()})).then((function(t){var a=t.data.slice().sort(P),n=Array(t.data.lenght).fill(i.a.createRef());a.forEach((function(e,t){e.index=t}));var r=a.reduce((function(t,a){return C()(a.verifyDate).isBefore(e.state.startDate)&&t.push(a),t}),[]);e.setState({patients:a,patientListRef:n,activePatients:r,curDate:a[0].verifyDate})}))}},{key:"onSeekbarChange",value:function(e){var t=this,a=C()(this.state.startDate).add(e,"days"),n=[],i=this.state.patients.reduce((function(e,i,r){return(C()(i.verifyDate).isBefore(a)||i.verifyDate==a)&&(e.push(i),n.push(t.state.patientListRef[r])),e}),[]);this.setState({curDate:a,activePatients:i,activeRefs:n})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(y.a,{style:{maxWidth:"1500px"}},i.a.createElement(g.a,null,i.a.createElement(k.a,{lg:8},i.a.createElement("div",{className:"display-4 text-md-center"},"Corona's Patient Map"),i.a.createElement("div",null,this.state.patients&&i.a.createElement(E,{onClick:this.onMarkerClicked,patients:this.state.activePatients,curPatient:this.state.curPatient||this.state.patients[0]}))),i.a.createElement(k.a,{lg:4},i.a.createElement("div",{className:"display-4 text-md-center"},"Patient Info"),i.a.createElement(g.a,{style:{wordWrap:"normal",overflowY:"auto",paddingLeft:"15px",Height:"150px",lineHeight:"20px"}},i.a.createElement("div",{style:{width:"100%",height:"100%"}},i.a.createElement(D,{patient:this.state.curPatient}))),i.a.createElement("br",null),i.a.createElement("div",{className:"display-4 text-md-center"},"Patients List"),i.a.createElement(g.a,{style:{height:"300px",lineHeight:"25px"}},i.a.createElement("div",{style:{width:"100%",height:"100%"}},this.state.patients&&i.a.createElement(b,{list:this.state.patientListRef,onClick:this.onMarkerClicked,curPatient:this.state.curPatient||this.state.patients[0],patients:this.state.activePatients}))))),i.a.createElement(g.a,null,i.a.createElement("div",{className:"display-4 text-md-center",style:{paddingBottom:"85px"}},"Date slider"),this.state.patients&&i.a.createElement(M,{onChange:this.onSeekbarChange,startDate:this.state.startDate,endDate:this.state.patients[0].verifyDate}))))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.61104607.chunk.js.map