(this.webpackJsonpcov19map=this.webpackJsonpcov19map||[]).push([[0],{139:function(e,t,a){e.exports=a(248)},144:function(e,t,a){},145:function(e,t,a){},150:function(e,t,a){},155:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=155},248:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(88),l=a.n(o),i=(a(144),a(59)),s=a(60),c=a(67),u=a(68),d=(a(145),a(98),a(81),a(38)),p=a.n(d),h=a(57),b=a(260),m=a(267),v=a(268),f=a(30),g=a.n(f);delete g.a.Icon.Default.prototype._getIconUrl,g.a.Icon.Default.mergeOptions({iconRetinaUrl:a(146),iconUrl:a(147),shadowUrl:a(148)});var C=function(e){return r.a.createElement(m.a,{style:{width:"100%",height:"600px"},center:e.curPatient?[e.curPatient.lat,e.curPatient.lng]:[10.7629,106.6822],zoom:e.curPatient?8:4},r.a.createElement(v.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png   "}),function(e){var t=[];return e.patients.map((function(a,n){return t.push(r.a.createElement(b.a,{key:n,position:{lat:a.lat,lng:a.lng},onClick:e.onClick.bind(null,a),index:n}))})),t}(e),"}")},y=a(264),E=a(261),k=a(265),D=function(e){return e.patient?r.a.createElement("div",null,r.a.createElement(E.a,null,"Name: ",r.a.createElement("span",null,e.patient.name)),r.a.createElement(E.a,null,"Address: ",r.a.createElement("span",null,e.patient.address)),r.a.createElement(E.a,null,"Note: ",r.a.createElement("span",null,e.patient.note)),r.a.createElement(E.a,null,"Group: ",r.a.createElement("span",null,e.patient.patientGroup))):r.a.createElement("div",null,r.a.createElement(E.a,null,"Name: "),r.a.createElement(E.a,null,"Address: "),r.a.createElement(E.a,null,"Note : "),r.a.createElement(E.a,null,"Group: "))};var B=function(e){var t=[];return e.patients.map((function(a,n){t.push(function(e,t){var a=new Date(t.verifyDate),n=a.getDate()+"/"+a.getMonth()+"/"+a.getFullYear();return r.a.createElement("li",{ref:function(a){e.list[t.index]=a},key:t.index},r.a.createElement("button",{className:"btn btn-default btn-block"+(e.curPatient===t?" btn-primary":" btn-outline-secondary"),onClick:e.onClick.bind(null,t)},t.name," Date:",n))}(e,a))})),e.patients?r.a.createElement("ul",{style:{listStyleType:"none",overflow:"auto",maxHeight:"329px"}},t):null},x=a(266),H=a(263);a(150);var O=function(e){var t=p()(e.startDate),a=p()(e.endDate).diff(t,"days"),n=[{value:0,label:t.format("DD/MM/YYYY")},{value:a,label:p()(t).add(a,"days").format("DD/MM/YYYY")}];return r.a.createElement("div",{className:"col-12"},r.a.createElement(E.a,null,r.a.createElement(x.a,{style:{pointerEvents:!0===e.autoplay?"none":"auto",opacity:!0===e.autoplay?"0.4":"1.0"},classes:{valueLabel:"value-label",rail:"rail",track:"track"},defaultValue:0,min:0,max:a,marks:n,value:e.value,onChange:function(t,a){e.onChange(a)},valueLabelFormat:function(e){return p()(t).add(e,"days").format("DD/MM/YYYY")},valueLabelDisplay:"on",step:1})),r.a.createElement("br",null),r.a.createElement(E.a,null,r.a.createElement("button",{style:{width:"150px"},className:"btn btn-info btn-lg",onClick:function(){return e.onAutoClicked()}},"Autoplay"),r.a.createElement("div",{style:{marginLeft:"50px",width:"200px"}},r.a.createElement(H.a,{id:"intervalLabel",gutterBottom:!0},"Autoplay interval"),r.a.createElement(x.a,{defaultValue:1e3,style:{left:"5px"},onChange:function(t,a){return e.intervalChange(a)},max:1e3,min:50,reverse:"true",step:50,valueLabelDisplay:"auto","aria-labelledby":"intervalLabel"}))))};function S(e,t){var a=new Date(e.verifyDate),n=new Date(t.verifyDate);return(a<n)-(a>n)}var R=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={patients:null,curPatient:null,patientListRef:null,startDate:"2019-12-08T00:00:00",curDate:null,activePatients:null,activeRefs:null,autoplay:!1,seekValue:0,intervalValue:1e3},n.interval=null,n.onMarkerClicked=n.onMarkerClicked.bind(Object(h.a)(n)),n.onSeekbarChange=n.onSeekbarChange.bind(Object(h.a)(n)),n.onAutoClicked=n.onAutoClicked.bind(Object(h.a)(n)),n.onIntervalChange=n.onIntervalChange.bind(Object(h.a)(n)),n}return Object(s.a)(a,[{key:"onMarkerClicked",value:function(e){var t=e.index;this.state.patientListRef[parseInt(t)].scrollIntoView({behavior:"smooth",block:"start"}),this.setState({curPatient:this.state.patients[t]})}},{key:"onIntervalChange",value:function(e){var t=this;this.setState({intervalValue:e}),this.interval&&(clearInterval(this.interval),this.interval=this.interval=setInterval((function(){t.onSeekbarChange(t.state.seekValue+1)}),this.state.intervalValue))}},{key:"onAutoClicked",value:function(){var e=this,t=!this.state.autoplay;t?this.interval=setInterval((function(){e.onSeekbarChange(e.state.seekValue+1)}),this.state.intervalValue):(clearInterval(this.interval),this.interval=null),this.setState({autoplay:t})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/maps.vnpost.vn/apps/covid19/api/patientapi/list",{Headers:new Headers({Origin:"localhost:3000"})}).then((function(e){return e.json()})).then((function(t){var a=t.data.slice().sort(S),n=Array(t.data.lenght).fill(r.a.createRef());a.forEach((function(e,t){e.index=t}));var o=a.reduce((function(t,a){return p()(a.verifyDate).isBefore(e.state.startDate)&&t.push(a),t}),[]);e.setState({patients:a,patientListRef:n,activePatients:o,curDate:a[0].verifyDate})}))}},{key:"onSeekbarChange",value:function(e){var t=this,a=p()(this.state.startDate).add(e,"days"),n=[],r=this.state.patients.reduce((function(e,r,o){return(p()(r.verifyDate).isBefore(a)||r.verifyDate===a)&&(e.push(r),n.push(t.state.patientListRef[o])),e}),[]);this.setState({curDate:e,activePatients:r,activeRefs:n,seekValue:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,{style:{maxWidth:"1500px"}},r.a.createElement(E.a,null,r.a.createElement(k.a,{lg:8},r.a.createElement("div",{className:"display-4 text-md-center"},"Corona Cases Map"),r.a.createElement("div",null,this.state.patients&&r.a.createElement(C,{onClick:this.onMarkerClicked,patients:this.state.activePatients,curPatient:this.state.curPatient||this.state.patients[0]}))),r.a.createElement(k.a,{lg:4},r.a.createElement("div",{className:"display-4 text-md-center"}," Patient Info"),r.a.createElement(E.a,{style:{wordWrap:"normal",overflowY:"auto",paddingLeft:"15px",Height:"100px !important",lineHeight:"20px"}},r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(D,{patient:this.state.curPatient}))),r.a.createElement("br",null),r.a.createElement("div",{className:"display-4 text-md-center"},"Patients List"),r.a.createElement(E.a,{style:{height:"300px",lineHeight:"25px"}},r.a.createElement("div",{style:{width:"100%",height:"100%"}},this.state.patients&&r.a.createElement(B,{list:this.state.patientListRef,onClick:this.onMarkerClicked,curPatient:this.state.curPatient||this.state.patients[0],patients:this.state.activePatients}))))),r.a.createElement(E.a,null,r.a.createElement("div",{className:"display-4 text-md-center",style:{paddingBottom:"85px"}},"Date slider"),this.state.patients&&r.a.createElement(O,{intervalChange:this.onIntervalChange,autoplay:this.state.autoplay,onAutoClicked:this.onAutoClicked,value:this.state.seekValue,onChange:this.onSeekbarChange,startDate:this.state.startDate,endDate:p()()}))))}}]),a}(r.a.Component),w=a(108),j=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={vnData:null,vnLabels:null,gbData:null,gbLabels:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://td.fpt.ai/corona/corona-chart-vn.json").then((function(e){return e.json()})).then((function(t){var a=Object.keys(t),n=a.map((function(e){return t[e][0]})),r=a.map((function(e){return t[e][1]})),o=a.map((function(e){return t[e][2]}));a.unshift("Ng\xe0y 8/12"),n.unshift(0),r.unshift(0),o.unshift(0),e.setState({vnData:{labels:a,datasets:[{label:"Nhi\u1ec5m",data:n,fill:!1,lineTension:.1,backgroundColor:"rgba(201, 38, 38,1)",borderColor:"rgba(201, 38, 38,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10},{label:"C\xe1ch ly",data:r,fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10},{label:"Kh\u1ecfi b\u1ec7nh",data:o,fill:!1,lineTension:.1,backgroundColor:"rgba(38, 201, 38,1)",borderColor:"rgba(38, 201, 38,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}]}})})),fetch("https://td.fpt.ai/corona/corona-total.json").then((function(e){return e.json()})).then((function(t){var a=Object.keys(t),n=a.map((function(e){return t[e][0]})),r=a.map((function(e){return t[e][1]})),o=a.map((function(e){return t[e][2]}));e.setState({gbData:{labels:a,datasets:[{label:"Infected",data:n,fill:!1,lineTension:.1,backgroundColor:"rgba(201, 38, 38,1)",borderColor:"rgba(201, 38, 38,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10},{label:"Dead",data:r,fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10},{label:"Cured",data:o,fill:!1,lineTension:.1,backgroundColor:"rgba(38, 201, 38,1)",borderColor:"rgba(38, 201, 38,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}]}})}))}},{key:"render",value:function(){return r.a.createElement(y.a,{style:{maxWidth:"1500px"}},r.a.createElement("div",{className:"display-4 text-md-center"},"Corona Stats"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,null,r.a.createElement(k.a,{lg:6},r.a.createElement("p",{class:"text-center"},"S\u1ed1 ca m\u1eafc, c\xe1ch ly v\xe0 kh\u1ecfi b\u1ec7nh c\u1ee7a Vi\u1ec7t Nam"),this.state.vnData&&r.a.createElement(w.a,{data:this.state.vnData})),r.a.createElement(k.a,{lg:6},r.a.createElement("p",{class:"text-center"},"World's Corona Cases (Infected/Dead/Cured)"),this.state.vnData&&r.a.createElement(w.a,{data:this.state.gbData}))))}}]),a}(r.a.Component),N=a(97),P=a(54),M=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(N.a,null,r.a.createElement("nav",{class:"navbar sticky-top navbar-dark bg-dark",style:{margin:"0 auto",display:"block",textAlign:"center",float:"none"}},r.a.createElement(E.a,null,r.a.createElement(k.a,{lg:6},r.a.createElement(N.b,{to:"/cov19map/map",role:"button","aria-pressed":"true",className:"navbar-brand"},"Dashboard")),r.a.createElement(k.a,{lg:6},r.a.createElement(N.b,{to:"/cov19map/stats",role:"button","aria-pressed":"true",className:"navbar-brand"},"Charts")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.c,null,r.a.createElement(P.a,{path:"/cov19map/map"},r.a.createElement(R,null)),r.a.createElement(P.a,{path:"/cov19map/stats"},r.a.createElement(j,null)),r.a.createElement(P.a,{exact:!0,path:"/cov19map/"},r.a.createElement(R,null))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.cbdf6621.chunk.js.map