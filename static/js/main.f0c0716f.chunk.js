(this.webpackJsonpcov19map=this.webpackJsonpcov19map||[]).push([[0],{44:function(e,t,a){e.exports=a(60)},49:function(e,t,a){},50:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(23),r=a.n(i),s=(a(49),a(34)),o=a(35),c=a(14),u=a(40),p=a(41),h=(a(50),a(72)),m=a(79),v=a(80),d=(a(33),a(6)),f=a.n(d);delete f.a.Icon.Default.prototype._getIconUrl,f.a.Icon.Default.mergeOptions({iconRetinaUrl:a(51),iconUrl:a(52),shadowUrl:a(53)});var y=function(e){return l.a.createElement(m.a,{style:{width:"100%",height:"600px"},center:[10.7629,106.6822],zoom:4},l.a.createElement(v.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png   "}),function(e){var t=[];return e.patients.map((function(a,n){return t.push(l.a.createElement(h.a,{key:n,position:{lat:a.lat,lng:a.lng},onClick:e.onClick.bind(null,a),index:n}))})),t}(e),"}")},E=a(76),k=a(73),b=a(77),g=(a(30),function(e){return e.patient?l.a.createElement("div",null,l.a.createElement(k.a,null,"Name: ",l.a.createElement("span",null,e.patient.name)),l.a.createElement(k.a,null,"Address: ",l.a.createElement("span",null,e.patient.address)),l.a.createElement(k.a,null,"Note: ",l.a.createElement("span",null,e.patient.note)),l.a.createElement(k.a,null,"Group: ",l.a.createElement("span",null,e.patient.patientGroup))):l.a.createElement("div",null,l.a.createElement(k.a,null,"Name: "),l.a.createElement(k.a,null,"Address: "),l.a.createElement(k.a,null,"Note : "),l.a.createElement(k.a,null,"Group: "))});var C=function(e){var t=[];return e.patients.map((function(a,n){t.push(function(e,t){var a=new Date(t.verifyDate),n=a.getDate()+"/"+a.getMonth()+"/"+a.getFullYear();return l.a.createElement("li",{ref:function(a){e.list[t.index]=a},key:t.index},l.a.createElement("button",{className:"btn btn-default btn-block"+(e.curPatient===t?" btn-primary":" btn-outline-secondary"),onClick:e.onClick.bind(null,t)},t.name," Date:",n))}(e,a))})),e.patients?l.a.createElement("ul",{style:{listStyleType:"none",overflow:"auto",maxHeight:"329px"}},t):null},D=a(78),x=a(75),w=a(9),M=a.n(w);a(57);var I=function(e){var t=M()(e.startDate),a=M()(e.endDate).diff(t,"days"),n=[{value:0,label:t.format("DD/MM/YYYY")},{value:a,label:M()(t).add(a,"days").format("DD/MM/YYYY")}];return l.a.createElement("div",{className:"col-12"},l.a.createElement(k.a,null,l.a.createElement(D.a,{style:{pointerEvents:!0===e.autoplay?"none":"auto",opacity:!0===e.autoplay?"0.4":"1.0"},classes:{valueLabel:"value-label",rail:"rail",track:"track"},defaultValue:0,min:0,max:a,marks:n,value:e.value,onChange:function(t,a){e.onChange(a)},valueLabelFormat:function(e){return M()(t).add(e,"days").format("DD/MM/YYYY")},valueLabelDisplay:"on",step:1})),l.a.createElement("br",null),l.a.createElement(k.a,null,l.a.createElement("button",{style:{width:"150px"},className:"btn btn-info btn-lg",onClick:function(){return e.onAutoClicked()}},"Autoplay"),l.a.createElement("div",{style:{marginLeft:"50px",width:"200px"}},l.a.createElement(x.a,{id:"intervalLabel",gutterBottom:!0},"Autoplay interval"),l.a.createElement(D.a,{defaultValue:1e3,style:{left:"5px"},onChange:function(t,a){return e.intervalChange(a)},max:1e3,min:50,reverse:"true",step:50,valueLabelDisplay:"auto","aria-labelledby":"intervalLabel"}))))};function P(e,t){var a=new Date(e.verifyDate),n=new Date(t.verifyDate);return(a<n)-(a>n)}var L=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={patients:null,curPatient:null,patientListRef:null,startDate:"2019-12-08T00:00:00",curDate:null,activePatients:null,activeRefs:null,autoplay:!1,seekValue:0,intervalValue:1e3},n.interval=null,n.onMarkerClicked=n.onMarkerClicked.bind(Object(c.a)(n)),n.onSeekbarChange=n.onSeekbarChange.bind(Object(c.a)(n)),n.onAutoClicked=n.onAutoClicked.bind(Object(c.a)(n)),n.onIntervalChange=n.onIntervalChange.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"onMarkerClicked",value:function(e){var t=e.index;this.state.patientListRef[parseInt(t)].scrollIntoView({behavior:"smooth",block:"start"}),this.setState({curPatient:this.state.patients[t]})}},{key:"onIntervalChange",value:function(e){var t=this;this.setState({intervalValue:e}),this.interval&&(clearInterval(this.interval),this.interval=this.interval=setInterval((function(){t.onSeekbarChange(t.state.seekValue+1)}),this.state.intervalValue))}},{key:"onAutoClicked",value:function(){var e=this,t=!this.state.autoplay;t?this.interval=setInterval((function(){e.onSeekbarChange(e.state.seekValue+1)}),this.state.intervalValue):(clearInterval(this.interval),this.interval=null),this.setState({autoplay:t})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/maps.vnpost.vn/apps/covid19/api/patientapi/list",{Headers:new Headers({Origin:"localhost:3000"})}).then((function(e){return e.json()})).then((function(t){var a=t.data.slice().sort(P),n=Array(t.data.lenght).fill(l.a.createRef());a.forEach((function(e,t){e.index=t}));var i=a.reduce((function(t,a){return M()(a.verifyDate).isBefore(e.state.startDate)&&t.push(a),t}),[]);e.setState({patients:a,patientListRef:n,activePatients:i,curDate:a[0].verifyDate})}))}},{key:"onSeekbarChange",value:function(e){var t=this,a=M()(this.state.startDate).add(e,"days"),n=[],l=this.state.patients.reduce((function(e,l,i){return(M()(l.verifyDate).isBefore(a)||l.verifyDate===a)&&(e.push(l),n.push(t.state.patientListRef[i])),e}),[]);this.setState({curDate:e,activePatients:l,activeRefs:n,seekValue:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(E.a,{style:{maxWidth:"1500px"}},l.a.createElement(k.a,null,l.a.createElement(b.a,{lg:8},l.a.createElement("div",{className:"display-4 text-md-center"},"Corona Cases Map"),l.a.createElement("div",null,this.state.patients&&l.a.createElement(y,{onClick:this.onMarkerClicked,patients:this.state.activePatients,curPatient:this.state.curPatient||this.state.patients[0]}))),l.a.createElement(b.a,{lg:4},l.a.createElement("div",{className:"display-4 text-md-center"}," Patient Info"),l.a.createElement(k.a,{style:{wordWrap:"normal",overflowY:"auto",paddingLeft:"15px",Height:"100px !important",lineHeight:"20px"}},l.a.createElement("div",{style:{width:"100%",height:"100%"}},l.a.createElement(g,{patient:this.state.curPatient}))),l.a.createElement("br",null),l.a.createElement("div",{className:"display-4 text-md-center"},"Patients List"),l.a.createElement(k.a,{style:{height:"300px",lineHeight:"25px"}},l.a.createElement("div",{style:{width:"100%",height:"100%"}},this.state.patients&&l.a.createElement(C,{list:this.state.patientListRef,onClick:this.onMarkerClicked,curPatient:this.state.curPatient||this.state.patients[0],patients:this.state.activePatients}))))),l.a.createElement(k.a,null,l.a.createElement("div",{className:"display-4 text-md-center",style:{paddingBottom:"85px"}},"Date slider"),this.state.patients&&l.a.createElement(I,{intervalChange:this.onIntervalChange,autoplay:this.state.autoplay,onAutoClicked:this.onAutoClicked,value:this.state.seekValue,onChange:this.onSeekbarChange,startDate:this.state.startDate,endDate:this.state.patients[0].verifyDate}))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.f0c0716f.chunk.js.map